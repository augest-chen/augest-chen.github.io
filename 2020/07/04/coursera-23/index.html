<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="xDxeiN8UNesdSzXA443HQ-Oo_3g__1XDd8szZhVPjgg" />



  <meta name="msvalidate.01" content="true" />



  <meta name="yandex-verification" content="true" />




  <meta name="baidu-site-verification" content="mt1uVtI4Qf" />







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="coursera,Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers,HEC Paris," />










<meta name="description" content="不同类型的投资者。 共同基金，零售投资者，保险公司， 退休基金等等。其中对于投资者来说有两个关键问题： 他们的投资目标以及 面临的投资限制。 今天我们会讨论第一点， 作为投资者的投资目标。 我们对于投资的偏好存在共识： 我们期望从投资中获得更高的回报。 在其他条件相同的情况下，我们期望获得更多的财富。 基于这样的目标，投资策略是比较容易理解的。 因此，我们应该投资可以给我们带来最高收益的资产。 如">
<meta property="og:type" content="article">
<meta property="og:title" content="HEC Paris Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers">
<meta property="og:url" content="https://augest-chen.github.io/2020/07/04/coursera-23/index.html">
<meta property="og:site_name" content="augest-chen">
<meta property="og:description" content="不同类型的投资者。 共同基金，零售投资者，保险公司， 退休基金等等。其中对于投资者来说有两个关键问题： 他们的投资目标以及 面临的投资限制。 今天我们会讨论第一点， 作为投资者的投资目标。 我们对于投资的偏好存在共识： 我们期望从投资中获得更高的回报。 在其他条件相同的情况下，我们期望获得更多的财富。 基于这样的目标，投资策略是比较容易理解的。 因此，我们应该投资可以给我们带来最高收益的资产。 如">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-07-04T12:02:19.000Z">
<meta property="article:modified_time" content="2020-07-05T01:57:37.981Z">
<meta property="article:author" content="augest-chen">
<meta property="article:tag" content="coursera">
<meta property="article:tag" content="Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers">
<meta property="article:tag" content="HEC Paris">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://augest-chen.github.io/2020/07/04/coursera-23/"/>





  <title>HEC Paris Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers | augest-chen</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">augest-chen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            Schedule
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://augest-chen.github.io/2020/07/04/coursera-23/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="augest-chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/Wechat.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="augest-chen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">HEC Paris Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-04T20:02:19+08:00">
                2020-07-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coursera/" itemprop="url" rel="index">
                    <span itemprop="name">coursera</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coursera/Investment-Management-in-an-Evolving-and-Volatile-World-by-HEC-Paris-and-AXA-Investment-Managers/" itemprop="url" rel="index">
                    <span itemprop="name">Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>不同类型的投资者。 共同基金，零售投资者，保险公司， 退休基金等等。其中对于投资者来说有两个关键问题： 他们的投资目标以及 面临的投资限制。 今天我们会讨论第一点， 作为投资者的投资目标。 我们对于投资的偏好存在共识： 我们期望从投资中获得更高的回报。 在其他条件相同的情况下，我们期望获得更多的财富。 基于这样的目标，投资策略是比较容易理解的。 因此，我们应该投资可以给我们带来最高收益的资产。 如果可能的话，这样当然不错。 然而不幸的是，我们无法预知未来，尤其 无法预知不同投资带来确切的收益。 因此，从投资中获得更高的收益没有那么简单。 在投资的道路上，我们会发现另一个重要的方面: 当我们投资的时候，风险不可避免。<br>我们绝大多数都厌恶风险，因此希望降低风险。 因此想像一下，你明年会做两个投资， 并希望从中获得10%的收益，这就意味着，每1欧元的投资， 你希望获得1.10欧元。<br>而且你的第一项投资有10%的概率 损失一半的价值，意味着 这种事每十年可能发生一次。你的第二笔投资 有50%的概率损失一半的价值，意味着 这件事每两年会发生一次。 因此，尽管事实上我们都希望从两笔投资中 获取10%的收益，我们会倾向购买第一种投资，因为 这个投资有更低的概率损失一半的价值。<br>我们对于高投资收益和低投资风险的偏好 可以被描述为以下的 权衡：投资收益减去风险厌恶 和投资风险。我们称其为 偏好的衡量标准。这种衡量方式解释了 从一个投资或者多个投资的组合中， 收益和风险的权衡关系。 它增加了投资组合的预期收益（我们所希望的） 并且减少了其中的风险 （我们所厌恶的） 最终收益和风险之前的权衡可以由 风险的厌恶程度来衡量。风险的厌恶程度 是一个简单的指标，可以衡量个人对于财务风险的承受程度。 一个高度厌恶风险的投资者 会选择比较安全的投资，例如债券， 然而一个厌恶风险指数较低的投资者 会选择更激进的投资方式，例如股票。 不同的投资者有不同的投资偏好； 对于潜在风险和收益的确切的定义 是因人而异的。 如果是管理资金的机构，例如 共同基金公司，目标一般是 最大化投资组合收益并最小化投资组合风险。 再举例说，如果管理养老基金， 最关键的是资产增长的速度快于负债增长的速度。 因为要确保到期有足够的资金付给领取 养老金的人。 在多数情况下，这些债务和通胀率有关。 因此，养老金关心的是 资产的风险收益减去 据通胀率相应调整后的债务价值。 一个零售投资者可能希望能长期的积累财富 来安度退休生活，就像靠养老金一样。 然而，他肯定要要担心生活 中其他方面的风险，例如工作收入。 举个例子来说，一个Enron的职工把 大部分的积蓄投资到公司的股票当中。 当Enron破产的时候，这位职工不仅失去他的工作， 他还损失了大部分的积蓄。 在此种情况下，我们可以说Enron的股票不能有效对冲 他的工资收入的风险。<br>最后一点，中央银行关心 保证金组合风险调整后的表现。 但是相反，当他们因为要调整利率和汇率 干预金融市场的时候， 他们不太关心保证金的表现。<br>金融界的准则就是，为了获得 更高的收益，你就必须承担更大的风险。 因此，我们来考虑一下是投资标普500指数，它包括了 美国的大公司。还是 投资美国10年政府债券。<br>这个数据显示了在1971年投资1美元 在这两种资产后的累计总收益。 很明显的，在这段很长的时间内，标普500指数远胜于政府债券。 1971年投入的1美元 在2015年已经变成了84美元，远胜于 债券的21美元。一个投资期较长 并且低风险厌恶的人，可以忍受 市场的剧烈变动，会选择投资更多的资金在股票上， 而投资较少的资金在债券上。 另外一组数据提供了另外一个视角 来看同样这两种投资的表现。 可以看到它们在去年不同时间的表现。 例如，如果有人 从2008年3月到2009年2月间（股市好转前）<br>把他的储蓄投资在标普500，他会 损失超过43%。<br>毫无疑问，股票指数比政府债券风险大。 在股票上亏损是更常见的事情，而且损失也更大。 如果你是一个短线投资者，也许你是 因为想在一年内买一套房子，或者 你高度厌恶风险，那么最好投资风险较低的债券。<br>最后我们用一个问题来总结，请判断对还是错。 是否一个年轻的零售投资者应该持有 与养老基金同样的投资目标，因为他们 具有相同的投资期限?<br>答案是错的，因为零售投资者 可能有除了养老以外的生活目标。<br>现在我们明白了我们的投资目标 应该如何设定，并且我们应该清楚这会因人而异， 我们下一个视频会讨论 应该如何去量化偏好。</p>
<p>我们在上一次课程中讲到 投资者根据最优化 下列不同的取舍和权衡 可以选择不同的投资标的 例如 投资回报和风险厌恶程度的差值 乘以投资风险 今天我们将介绍几个精确衡量 偏好程度的标准 第一个部分是关于 投资回报，非常简单 几乎所有情况下我们都会 通过预期收益E(r) 来衡量投资回报 一个金融资产的 投资回报r是它 所有可能数值的 按概率的加权平均数 举个例子 如果有n个可能的投资回报的数值, p1概率下有回报值r1 p2概率下有回报值r2 以此类推到pn概率有rn 则预期回报 由下列公式给出： 预期回报等于 投资回报乘以对应概率 然后求这n个值的总和。<br>Play video starting at 1 minute 21 seconds and follow transcript1:21<br>预期回报是 一个概率的概念 预期回报是未知的 举个例子，我们并不知道 亚马逊或者微软的股票的 预期回报是多少 因此，现实生活中我们用 一个统计学的估计量 来估计这些预期回报 最经常用到的 预期回报的估计量 就是样本平均回报 如果你的样本中包含 T个回报的数值 那么样本平均回报 就是把T个回报的数值加和 然后除以T<br>Play video starting at 2 minutes 0 seconds and follow transcript2:00<br>在这里，预期回报E(r)上面的帽子符号 表示我们得到的是 预期回报E(r)的估计量，而不是 我们无从得知的真实值 例如，你可以计算 亚马逊股票的 从发行之日起的 平均每月回报，来估计 下个月的预期回报<br>注意， 样本的平均回报并不是 唯一的统计学估计量 用来估计预期回报 可以想到的例子包括 近期的回报率 可能更能代表 未来的回报率，因此我们 用最近5年的 平均回报率，而不是 所有的历史回报率<br>投资风险又该如何考虑呢？ 我们从最简单的 衡量风险的指标开始：方差 虽然它不是一个完美的 衡量风险的指标，但是我们 从它开始介绍，因为方差 是最常用的衡量标准<br>方差描述的是 回报率和预期回报率之间的差距 作为一个风险厌恶的投资者 我们更偏好方差比较低的 投资标的，因为 我们对于这个资产能够 实现的回报率更加确信 方差同时也是 概率加权平均的概念，就像 预期回报一样<br>然而，对于方差而言，它并不是 所有回报的 概率加权平均，而是 所有回报和预期回报的差值 然后把它平方 最后取平均<br>就像我们可以用 样本平均回报来估计 预期回报一样，我们也可以 回报率的样本方差 来估计 未知的真实方差 这里我们除以的是T-1 来得到一个 无偏估计量<br>我们经常把这种 类型的风险 叫做波动率， 是方差的算术平方根。 年收益的波动率 的范围大概是 债券5-10%，<br>成熟金融市场中的股票大约15%-25%<br>我们现在有了一个精确的 描述投资回报和风险的估计量 我们可以把我们的 基本偏好指标表达为 预期回报减去 风险厌恶程度的一半 乘以回报的方差 在本课程第二部分中我们 会更加清楚地看到，我们把 风险厌恶程度除以二 只是为了数学的方便,<br>请注意，我们还没有讨论 如何衡量风险厌恶程度. 根据一系列心理学的实验 我们得知一般的风险厌恶程度 数值大约从2到10不等， 有一些咨询公司 专门测你的风险厌恶程度。 还有一种更简单的方法 就是给你几个不同的投资组合 资产的组成根据不同的风险厌恶程度来选择, 然后你来决定 对你来说最合适那一个。 我们现在回到上次视频中提到的 股票vs债券的那个例子<br>这个表格包含了 平均回报和波动率 这些数据是根据整个样本 来计算的，股票和债券都是如此。 在1971到2015年这段期间内 股票比债券的回报率高， 但是他们同时也有更高的波动率 单独来看，我们如何决定 那一个更好？ 新的一行显示的是偏好指标， 它们是根据风险厌恶程度等于5来计算的 投资标普500指数 的偏好等价回报水平 是5.29% 而债券的对应的 偏好等价回报水平 是5.94% “偏好等价回报水平” 是指某一种 衡量偏好的指标在这种 回报水平下， 投资者对这项投资和 可以获得5.29%的回报的无风险资产的偏好 是相同的。 我们可以利用 偏好等价回报水平 来比较一些 不同的平均回报, 和波动率水平的投资产品。 显然我们会偏好 拥有最高 偏好等价回报水平的资产<br>因此，一个风险厌恶水平 为5的投资者 如果投资其全部储蓄到债券中 则他的境遇会改善 因为债券的 偏好等价回报水平是5.94% 这个数字要高于 股票的偏好等价回报 但是先不要着急下结论 并不存在万用的解决方案<br>假设有一个投资者 想要承担更多风险 这样他可以 获得潜在的更高回报 最后一行这里显示了 偏好等价回报 当你的风险厌恶水平只有2时是多少 在这个例子里面是股票8.77% 债券只有6.59% 这说明了一点 这位不那么风险厌恶的投资者 可以通过选择股票作为他的投资选择 来改善他的境遇<br>但是即使一项资产的 这一指标 高于另一项资产 这就够了吗？<br>一般来说我们计算回报时， 计算的是超过无风险收益水平 Rf的部分。Rf可以通过 投资安全的资产来得到 比如说发达国家政府 发行的短期债券 我们把它看做一个 最基本的基准指标，因为 我们总是可以把我们的钱 放在安全的资产里，然后 在无风险的情况下获得这样的收益<br>显然如果一项资产的 偏好等价回报是5%， 如果此时无风险利率是8%而不是2%， 这个资产就没什么吸引力了。<br>所以需要注意， 无风险证券的偏好衡量标准 就是它的回报率Rf。<br>从1971到2015年的期间 平均的无风险利率水平 为5.21% 这意味着两个投资者， 他们风险厌恶程度分别是2和5， 都会更偏好 投资在股票或 长期债券市场 而不是选择 无风险资产<br>我们来用最后一个问题来结束今天的课程 如果你的风险厌恶水平是2 你会偏好一项投资 可以获得8%的预期回报 和15%的波动率 还是另一项资产 有着9%的预期回报<br>和20%的波动率？ 这里，注意不要用 百分号里面的数字 而应该用小数的形式<br>几个可能的回答： a) 我偏好第一项投资； b) 我偏好第二项投资；或 c) 这两种投资对我而言 无差别<br>答案是a 你更偏好第一项投资 那么你的偏好等价回报 是0.8 减去你的风险厌恶水平2 再除以2 乘以波动率0.15 平方之后 可以得到方差， 算出来等于5.75%。 相比而言 第二个投资的 偏好等价回报水平 只有5%。<br>我们在这个部分讨论了 不同类型的 投资者以及 他们拥有怎样不同类型的偏好， 我们还研究了如何 从不同的投资标的中进行选择。 下一讲我们会更深入 讨论金融市场中 可以被我们触及的 数以千计的投资标的。 在这种情况下， 我们的选择将是由这些资产混合成 一个合适的投资组合。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/coursera/" rel="tag"># coursera</a>
          
            <a href="/tags/Investment-Management-in-an-Evolving-and-Volatile-World-by-HEC-Paris-and-AXA-Investment-Managers/" rel="tag"># Investment Management in an Evolving and Volatile World by HEC Paris and AXA Investment Managers</a>
          
            <a href="/tags/HEC-Paris/" rel="tag"># HEC Paris</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/07/04/coursera-22/" rel="next" title="University of Pennsylvania Fundamentals of Quantitative Modeling">
                <i class="fa fa-chevron-left"></i> University of Pennsylvania Fundamentals of Quantitative Modeling
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/07/04/coursera-24/" rel="prev" title="National Research University Higher School of Economics Public Economics">
                National Research University Higher School of Economics Public Economics <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/Wechat.jpg"
                alt="augest-chen" />
            
              <p class="site-author-name" itemprop="name">augest-chen</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">126</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">169</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">125</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">augest-chen</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
