<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="xDxeiN8UNesdSzXA443HQ-Oo_3g__1XDd8szZhVPjgg" />



  <meta name="msvalidate.01" content="true" />



  <meta name="yandex-verification" content="true" />




  <meta name="baidu-site-verification" content="mt1uVtI4Qf" />







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="coursera,IBM,IBM AI Engineering Professional Certificate,Machine Learning with Python," />










<meta name="description" content="我将向您简要介绍机器学习。 因此，让我们开始吧。 这是从患者身上提取的人体细胞样本， 并且这个细胞具有特征 例如，其团块厚度为6，均匀度单元大小的“ 1”表示其边缘粘附为1，依此类推。 在这一点上，我们可以问的一个有趣的问题是：这是良性还是恶性的 细胞？ 与良性肿瘤相反，恶性肿瘤是可能侵犯周围肿瘤的肿瘤 组织或周围组织扩散，及早诊断可能是患者患病的关键 生存。 可以轻易地假设只有具有多年经验的医生">
<meta property="og:type" content="article">
<meta property="og:title" content="IBM Machine Learning with Python">
<meta property="og:url" content="https://augest-chen.github.io/2020/07/19/coursera-31/index.html">
<meta property="og:site_name" content="augest-chen">
<meta property="og:description" content="我将向您简要介绍机器学习。 因此，让我们开始吧。 这是从患者身上提取的人体细胞样本， 并且这个细胞具有特征 例如，其团块厚度为6，均匀度单元大小的“ 1”表示其边缘粘附为1，依此类推。 在这一点上，我们可以问的一个有趣的问题是：这是良性还是恶性的 细胞？ 与良性肿瘤相反，恶性肿瘤是可能侵犯周围肿瘤的肿瘤 组织或周围组织扩散，及早诊断可能是患者患病的关键 生存。 可以轻易地假设只有具有多年经验的医生">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-07-19T14:21:31.000Z">
<meta property="article:modified_time" content="2020-07-23T01:46:43.842Z">
<meta property="article:author" content="augest-chen">
<meta property="article:tag" content="coursera">
<meta property="article:tag" content="IBM">
<meta property="article:tag" content="IBM AI Engineering Professional Certificate">
<meta property="article:tag" content="Machine Learning with Python">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://augest-chen.github.io/2020/07/19/coursera-31/"/>





  <title>IBM Machine Learning with Python | augest-chen</title>
  








<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">augest-chen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            Schedule
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://augest-chen.github.io/2020/07/19/coursera-31/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="augest-chen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/Wechat.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="augest-chen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">IBM Machine Learning with Python</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-19T22:21:31+08:00">
                2020-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coursera/" itemprop="url" rel="index">
                    <span itemprop="name">coursera</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coursera/IBM-AI-Engineering-Professional-Certificate/" itemprop="url" rel="index">
                    <span itemprop="name">IBM AI Engineering Professional Certificate</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coursera/IBM-AI-Engineering-Professional-Certificate/Machine-Learning-with-Python/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning with Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>我将向您简要介绍机器学习。 因此，让我们开始吧。 这是从患者身上提取的人体细胞样本， 并且这个细胞具有特征 例如，其团块厚度为6，均匀度单元大小的“ 1”表示其边缘粘附为1，依此类推。 在这一点上，我们可以问的一个有趣的问题是：这是良性还是恶性的 细胞？ 与良性肿瘤相反，恶性肿瘤是可能侵犯周围肿瘤的肿瘤 组织或周围组织扩散，及早诊断可能是患者患病的关键 生存。 可以轻易地假设只有具有多年经验的医生才能诊断出 肿瘤并说出患者是否患上癌症。 对？ 好吧，想象一下，您已经获得了一个包含数千个特征的数据集。 从被认为有发展风险的患者中提取的人类细胞样本 癌症。 对原始数据的分析表明，许多特征存在显着差异 在良性和恶性样本之间。 您可以使用其他患者样本中的这些细胞特征值来得出 早期指示新样本可能是良性还是恶性的。 您应该清理数据，选择适当的算法来构建预测模型， 并训练您的模型以了解数据中良性或恶性细胞的模式。 通过反复遍历数据对模型进行训练后，就可以用来预测 您的新单元格或未知单元格的准确性很高。 这是机器学习！ 这是机器学习模型可以完成医生任务或至少可以帮助您的方法 那位医生可以使过程更快。 现在，让我给出机器学习的正式定义。 机器学习是计算机科学的子领域，它赋予“计算机”以能力 无需明确编程即可学习。” 让我解释一下我说“没有明确编程”时的意思。 假设您有一个动物图像的数据集，例如猫和狗，并且您想要 拥有可以识别和区分它们的软件或应用程序。 您在这里要做的第一件事是将图像解释为一组功能集。 例如，图像是否显示了动物的眼睛？ 如果是这样，它们的大小是多少？ 它有耳朵吗？ 那尾巴呢？ 几条腿？ 它有翅膀吗？ 在机器学习之前，每个图像都将转换为特征向量。 然后，传统上，我们必须写下一些规则或方法才能获得计算机 变得聪明并发现动物。 但是，这是一个失败。 为什么？ 嗯，您可以猜到，它需要很多规则，高度依赖于当前数据集， 并且没有足够的泛化能力来检测样本外的案例。 这是机器学习进入现场的时候。 利用机器学习，我们可以构建一个模型，以查看所有功能集， 及其相应的动物类型，并了解每种动物的模式。 它是由机器学习算法构建的模型。 它无需进行显式编程即可进行检测。 本质上，机器学习遵循的过程与4岁孩子用于学习的过程相同， 了解并区分动物。 因此，受人类学习过程启发的机器学习算法会迭代 从数据中学习，并允许计算机找到隐藏的见解。 这些模型可以帮助我们完成各种任务，例如对象识别，汇总， 推荐，等等。 机器学习以非常有影响力的方式影响社会。 这是一些真实的例子。 首先，您认为Netflix和Amazon如何向用户推荐视频，电影和电视节目？ 他们使用机器学习来提供您可能会喜欢的建议！ 这类似于您的朋友可能会根据以下内容向您推荐电视节目 了解他们喜欢观看的节目类型。 您认为银行在批准贷款申请时如何做出决定？ 他们使用机器学习来预测每个申请人的违约概率，然后批准 或根据该可能性拒绝贷款申请。 电信公司使用其客户的人口统计数据对它们进行细分或预测 他们是否将在下个月退订公司。 我们每天都会看到机器学习的其他许多应用 生活，例如聊天机器人，使用面部识别功能登录我们的手机甚至是电脑游戏。 这些工具均使用不同的机器学习技术和算法。 因此，让我们快速检查一些较流行的技术。 回归/估计技术用于预测连续值。例如，根据房屋的特征来预测房屋价格等事物，或进行估算 汽车发动机的二氧化碳排放量。 分类技术用于预测案件的类别或类别，例如， 单元格是良性还是恶性的，或者客户是否会流失。 例如，可以将相似病例的聚类组找到相似的患者，或者可以使用 用于银行领域的客户细分。 关联技术用于查找经常发生的项目或事件，例如， 通常由特定客户一起购买的杂货。 异常检测用于发现异常和异常情况，例如，它用于 用于信用卡欺诈检测。 序列挖掘用于预测下一个事件，例如点击流 在网站上。 降维用于减少数据大小。 最后，推荐系统将人们的偏好与他人联系起来 口味相似的人，并向他们推荐新商品，例如书籍或电影。 在接下来的视频中，我们将介绍其中一些技巧。 至此，我很确定这个问题已经引起您的注意，“有什么区别 这些天我们不断听到的流行语之间，例如人工智能 （或AI），机器学习和深度学习？” 好吧，让我解释一下两者之间的区别。 简而言之，人工智能试图使计算机智能化以模仿认知功能 人类。 因此，人工智能是一个广泛的通用领域，包括：计算机视觉， 语言处理，创造力和总结。 机器学习是AI的一个分支，涵盖了人工智能的统计部分 情报。 它通过查看数百或数千个示例来教会计算机解决问题， 向他们学习，然后利用这些经验在新情况下解决相同的问题。 深度学习是机器学习的一个非常特殊的领域，计算机实际上可以 自行学习并做出明智的决策。 与大多数机器学习算法相比，深度学习涉及更深层次的自动化。 现在我们已经完成了机器学习的介绍，后续的视频将 着重于检查两个主要组成部分：首先，您将学习目的 机器学习及其在现实世界中的应用范围；和其次，您将获得机器学习主题的总体概述，例如监督学习的主题。 对比无监督学习，模型评估和各种机器学习算法。 因此，既然您已经了解了此旅程中存储的内容，那么让我们继续 我们对机器学习的探索！</p>
<p>我们将讨论如何使用Python进行机器学习。所以让我们开始吧。 Python是一种流行且功能强大的通用编程语言 最近成为数据科学家的首选语言。 您可以使用Python编写机器学习算法，它可以很好地工作。 但是，Python中已经实现了很多模块和库， 这人才更轻松的使用它。 我们将在本堂课中介绍python包 并在本堂课中使用它，从而令您有更好的实践经验。 第一个包是NumPy 他是一个数学库，用于处理Python中的N维数组。 它使您能够高效且有效地进行计算。 它比普通的Python更好，因为它具有惊人的功能。 例如，对于使用数组（array），字典（dictionary）， 函式（功能），数据类型和使用你需要知道的图像NumPy。 SciPy是数值算法和领域特定工具箱的集合， 包括信号处理，优化， 和统计等等。 SciPy是一个有用的科学和综合计算的好库。 Matplotlib是一个非常受欢迎的绘图包，提供2D绘图， 以及3D绘图。 这三个基于python建造的包对于想要解决现实问题的数据科学家来说 是一笔很好的资产。 如果您不熟悉这些包裹， 我建议您先去学习《使用Python进行数据分析》这堂课。 本课程涵盖了这些包中的大多数有用的知识。 Pandas库是一个非常高级的Python库 它提供了高性能，易于使用的数据结构。 它具有许多有用的数据导入，操作和分析的功能。 特别是，它提供数据结构（data structure）和 操作数值表和时间序列的操作。 SciKit Learn是多种算法和工具 机器学习这是我们的重点 您将在这堂课中学习如何使用它。 因为我们在lab中会使用到Scikit学习 让我解释并告诉你为什么它在数据科学家中如此受欢迎。 SciKit Learn是一个免费的Python编程语言机器学习库。 它有大部分的分类， 回归和聚类算法， 他是专门为了python的数值和科学库：NumPy和Scipy 而设计出来的。 此外，它包括非常好的文档。 最重要的是， 使用SciKit Learn和用几行代码写出机器学习模型是一件 非常简单的事情 最初需要在机器学习管道（机器学习管道）中需要完成的 项目已经在Scikit学习中被完成，其中就包括预处理数据（数据的预处理） 特征选择（功能选择），特征提取（功能提取），训练集和测试集的分裂（测试分裂）， 定义算法（algorithm），拟合模型（models）， 调整参数，预测，评估和导出模型。 让我向您展示一个示例，了解SciKit学习在您使用此库时的外观。 您现在不必了解代码，只是看看 只需几行代码即可轻松构建模型。 基本上，机器学习算法受益于数据集的标准化。 如果数据集中存在一些异常值或不同的比例分段， 您必须解决这些。 SciKit学习的预包提供了几个常用的实用功能和反相类 可将原始特征向量 更改为适合的矢量形式。 您必须将数据集分解为训练集和测试集 从而训练您的模型，然后分别测试模型的准确性。 在一行代码中，SciKit学习可以将多重或矩阵分割为 随机训练和测试子集。 然后你可以设置你的算法。 例如，您可以使用支持矢量分类算法内置分类器。 我们将加速度器实例称为CLF并初始化其参数。 现在，您可以通过将训练集传递给 拟合方法来训练您的模型与训练集， CLF模型学会对未知病例进行分类。 然后我们可以使用我们的测试集来进行预测， 然后结果会告诉我们每个未知值的类是什么。 此外，您可以使用不同的指标来评估模型的准确性。 例如，使用重组矩阵来显示结果。 最后，您保存模型。 您可能会发现所有或部分机器学习术语令人困惑，但不要担心， 我们将在以下视频中讨论所有这些主题。 请记住最重要的一点就是， 使用SciKit Learn可以在几行代码中完成机器学习任务。 称为的，，如果您想使用NumPy或SciPy替换完成所有这些操作 虽然可能，但不那么容易。 当然，如果您只使用纯python去完成这些任务， 你会需要大量更多的代码。 </p>
<p>回归，让我们开始看看 该数据集与二氧化碳有关 来自不同汽车的排放量 包括发动机尺寸的汽缸数 油耗和二氧化碳排放量 各种汽车模型的问题 给定这个数据集我们可以预测 使用其他汽车的二氧化碳排放量 字段，例如发动机尺寸或气缸 假设我们有一些历史 来自不同汽车的数据，并假设 第9行之类的汽车尚未 尚未生产，但我们对 估算其近似的二氧化碳排放量 生产后有可能我们可以 使用回归方法来预测 连续值，例如二氧化碳排放量 使用其他一些变量 确实，回归是 预测中的连续值 回归有两种类型 变量一个因变量和一个 或更多个自变量 因变量可以看作是 说明我们研究的目标或最终目标，以及 尝试预测和独立 变量也称为解释性 变量可以看作是导致 那些陈述自变量 通常用X表示，而 因变量用Y a表示 回归模型与Y或 X的函数的因变量，即 自变量的关键 回归是我们的依赖 值应该是连续的，不能是 离散值，但独立 一个或多个变量可以在 绝对的或连续的 测量规模，所以我们要做什么 这是使用的历史数据 一些汽车使用其一个或多个 特征和数据 建立一个模型，我们使用回归来建立 这样的回归估计模型 该模型用于预测 新的或 未知车基本上有两个 回归模型的类型简单 回归和多元回归 简单回归就是当 自变量用于估计 因变量，可以是 线性或非线性 例如预测二氧化碳排放量 使用引擎大小的变量 回归线性基于 之间关系的性质 自变量和因变量 一个以上的自变量是 目前的过程称为多重 线性回归，例如预测 使用发动机尺寸和 给定汽车中的气缸数 再次取决于之间的关系 因变量和自变量 可以是线性或非线性的 回归让我们检查一些样本 本质上是回归的应用 当我们想要 例如估计一个连续值 回归的应用之一 分析可能是在销售领域 预测您可以尝试预测 销售人员的年度总销售额来自 自变量，例如年龄 教育和多年的经验可以 也可用于心理学领域 例如确定个人 基于人口统计学和 我们可以使用的心理因素 回归分析预测价格 根据房屋面积确定房屋面积 卧室的数量等等，我们甚至可以 用它来预测 自变量，例如小时数 工作教育职业性别年龄岁 经验等等，确实可以 找到许多有用的例子 这些和许多中的回归分析 其他领域或领域，例如金融 医疗保健零售以及更多我们有很多 他们每个人都有回归算法 它自己的重要性和具体 他们的申请条件 最合适的，虽然我们已经介绍了 本课程中的一些 您有足够的基础知识来 探索不同的回归技术。</p>
<p>欢迎光临本视频 涵盖您没有的线性回归 需要知道任何线性代数 了解线性回归中的主题 这个高层次的介绍将给 您有足够的背景资料 线性回归才能使用它 有效地解决您自己的问题，因此 让我们开始吧，让我们来看看 该数据集与二氧化碳有关 排放的不同汽车包括 发动机大小的气缸油耗 和各种车型的二氧化碳排放量 问题是给这个数据集可以 我们预测汽车的二氧化碳排放量 使用其他字段，例如引擎尺寸 很简单，是的，我们可以使用线性 回归以预测连续值 例如通过使用其他方法排放二氧化碳 变量线性回归是 线性模型的近似 描述两个或两个之间的关系 简单线性中的更多变量 回归有两个变量 因变量和独立变量 改变线性的关键点 回归是我们的依赖价值 应该是连续的，不能是 离散值但是独立 变量可以在 分类或连续测量 刻度线有两种类型 回归模型很简单 回归和多元回归 简单的线性回归是当 自变量用于估计 例如因变量 使用引擎预测二氧化碳排放量 多个时的大小可变 存在自变量 这个过程叫做多重线性 回归，例如预测二氧化碳 使用发动机尺寸和气缸排放 的汽车，我们在这个视频中的重点是 现在简单的线性回归 线性回归如何工作好吧，让我们 再看一下我们的数据集 要了解线性回归，我们可以 在这里绘制变量，我们展示引擎 大小作为自变量和 使命是我们的目标价值 想预测一个散点图 清楚地表明 一个变量发生变化的变量 解释或可能引起变化 另一个变量也表示 这些变量是线性的 与线性回归相关，您可以 例如，通过数据拟合一条线 随着发动机尺寸的增加， 线性回归可以排放 模拟这些关系 一个好的模型可以用来变量 预测什么 每辆车是如何使用这条线的 现在的预测让我们假设 这条线很适合的时刻 我们可以用来预测的数据 例如，排放未知的汽车 用于发动机尺寸为2.4的样车 你会发现现在的发射是214 让我们来谈谈拟合线 实际上是我们要预测 在本例中使用 独立可变的发动机尺寸 用X 1表示拟合线 传统上作为一个多项式 一个简单的回归问题单X 该模型的形式为theta 0加 在这个方程中的theta 1 X 1是 因变量或预测 值，X 1是独立的 变量theta 0和theta 1是 该行的参数，我们必须 调整θ1称为斜率或 拟合线和theta的梯度0 被称为intercept theta 0和 θ1也称为系数 可以解释的线性方程 这个方程式 是X 1或Y hat的函数 取决于X 1现在的问题是 您将如何通过 点，以及如何确定 线拟合最佳线性回归 估计线的系数 这意味着我们必须计算theta 0和 theta 1找到最适合的线 该行的数据将最好地估计 省略未知数据点 让我们看看如何找到这条线或 更准确地说，我们如何调整 使线条最适合的参数 暂时假设数据 我们已经找到最合适的线 现在获取我们的数据 点并检查它们对齐的程度 这条线最适合这里意味着 如果我们有一辆汽车 发动机尺寸x1等于5.4和实际co 2等于250，其co 2应为 预测非常接近实际值 y等于250，基于 历史数据，但如果我们使用拟合 行或更好地说使用我们的 参数已知的多项式 预测二氧化碳排放量将返回 如果您比较y帽子现在等于340 汽车排放的实际价值 与我们使用我们的预测 模型，您会发现我们有一个 90个单位的错误，这意味着我们的预测 行不准确，此错误也 称为残留误差，所以我们可以说 误差是与数据的距离 指向拟合的回归线 所有残留误差的平均值表明 该行与整个数据的拟合度很差 在数学上进行设置可以显示为 方程的均方误差为 MSE我们的目标是找到一条线 所有这些错误的平均值是 换句话说，最小化平均误差 拟合线的预测 应该最小化 让我们从技术上改写它 线性回归的目的是 最小化该MSE方程并 最小化它，我们应该找到最好的 参数theta0和theta1现在 问题是如何找到零零和 theta one以这样的方式 最小化此错误，我们如何找到 如此完美的路线或另辟way径 我们应该如何找到最佳参数 我们的线应该移到 随机抽签并计算MSE值 每次选择最少的一个 其实我们没有两个选择 在这里，我们可以使用一种数学方法 方法或选项二，我们可以使用 优化方法让我们看看我们如何 可以轻松地使用数学公式 找到theta零和theta一 在零和零之前提到过 简单线性回归中的一个是 拟合线的系数，我们可以 用一个简单的方程式估算这些 给出的系数是 只有两个的简单线性回归 参数并知道theta 0和 θ1是的截距和斜率 我们可以直接估算的线 根据我们的数据，它要求我们 计算独立的均值 以及来自 数据集注意所有数据 必须可用于遍历和 计算可以显示的参数 截距和斜率可以是 使用这些方程式可以计算出 首先估算一下 theta 1这是您如何找到 基于数据X条的线的斜率 是引擎尺寸的平均值 在我们的数据集中，请考虑我们 有九个 在这里上升到第零到八排 计算x1的平均值和平均值 的Y，然后将其插入坡度 方程以找到theta1 XI和yi 等式中的事实是 我们需要重复这些计算 在我们数据集中的所有值中，我 指x或y的右值 应用所有值我们找到theta一 等于39这是我们的第二个参数 用于计算第一个参数 现在是线的截距 我们可以将theta1插入线路 方程找到theta 0很容易 计算出theta 0等于125点 七个四个，所以这是两个 theta 0是的那行的参数 也称为偏差系数和 θ1是 二氧化碳排放量列，请注意 真的不需要记住 计算这些参数的公式 就像大多数用于 python r和scala中的机器学习 可以轻松为您找到这些参数 但是了解如何 现在可以了，我们可以写下来 该线的多项式，所以我们知道如何 找到最适合我们的数据及其 等式现在的问题是我们如何 用它来预测新物质的排放 我们根据它的发动机尺寸 找到了线性的参数 进行方程式预测非常简单 作为求解特定方程式的方法 一组输入想象我们正在预测 二氧化碳排放量或发动机尺寸的Y或X 对于创纪录的9的汽车 我们的线性回归模型 这个问题的表示将是 y帽子等于theta 0加theta 1 x1或者如果我们将其映射到我们的数据集 将是二氧化碳排放等于theta零 加上我们看到的theta 1发动机尺寸 可以使用找到theta 0 theta 1 我们刚才谈到的方程式 发现我们可以插入方程式 例如，线性模型让我们使用theta 0等于125，θ1等于39，所以我们 可以将线性模型重写为co2 排放等于125加39发动机尺寸 现在让我们插入第九行 数据集并计算二氧化碳排放量 对于引擎大小为2.4的汽车 二氧化碳排放等于125加39倍 2.4因此我们可以预测 该特定汽车的二氧化碳排放量将 218点六让我们谈谈 为什么线性回归如此有用 简直是最基本的回归 使用和理解实际上是一个原因 为什么线性回归如此有用是 很快 它也不需要调整 参数，例如调整 K参数和K最近邻居或 神经网络的学习率 不用担心线性 回归也很容易理解。</p>
<p>在这个视频里， 我们将介绍模型评估。 因此，让我们开始吧。 回归的目标是建立一个模型来准确预测未知病例。 为此，我们必须在构建模型后执行回归评估。 在本视频中，我们将介绍和讨论两种类型的 可用于实现此目标的评估方法。 这些方法是在同一数据集上进行训练和测试，以及对训练/测试进行拆分。 我们将讨论这些是什么， 以及使用每种模型的利弊。 另外，我们将介绍一些用于回归模型准确性的指标。 让我们看一下第一种方法。 在考虑评估模型时， 我们显然希望选择一种能够为我们提供最准确结果的产品。 所以，问题是 我们如何计算模型的准确性？ 换句话说，我们可以信任这个模型来预测 使用一个未知样本 给定的数据集并建立了线性回归等模型？ 解决方案之一就是选择一部分数据集进行测试。 例如，假设我们的数据集中有10条记录。 我们将整个数据集用于训练， 然后我们使用此训练集建立模型 现在，我们选择数据集的一小部分， 例如第六至九行 但没有标签。 这个集称为测试集， 有标签， 但标签不用于预测，仅用作基本事实。 这些标签称为测试集的实际值。 现在我们通过测试部分的功能集 建立模型并预测目标值。 最后，我们比较预测值 我们的模型与测试集中的实际值。 这表明我们的模型实际上有多精确。 有不同的指标来报告模型的准确性， 但大多数都基于 预测值和实际值的相似性。 让我们看一下最简单的指标之一 计算我们的回归模型的准确性。 如上所述，我们只是将实际值y与预测值进行比较， 对于测试集，这被称为。 模型的误差计算为平均差 所有行的预测值和实际值之间。 我们可以将此误差写为方程式。 因此，我们刚才讨论的第一种评估方法是最简单的方法， 在同一数据集上进行训练和测试。 本质上，这种方法的名称说明了一切。 您在整个数据集上训练模型， 然后使用同一数据集的一部分对其进行测试。 在一般意义上， 当您使用知道每个数据点目标值的数据集进行测试时， 您可以获取一定比例的模型准确预测。 这种评估方法很可能具有很高的培训准确性，并且 由于 模型从训练中知道所有测试数据点。 什么是训练精度和样本外精度？ 我们说过，对同一个数据集进行训练和测试可以提高训练精度， 但是训练准确度到底是什么？ 训练准确性是 使用测试数据集时模型可以做出正确的预测。 但是，高训练精度并不一定是一件好事。 例如，具有高训练精度可能会导致数据过拟合。 这意味着该模型过度训练了数据集， 可能会捕获噪声并生成非通用模型。 样本外准确性是指正确预测的百分比 该模型使用的数据尚未经过训练。 在同一数据集上进行训练和测试很可能会 由于过度拟合的可能性，样本外准确性较低。 我们的模型必须具有 样本外准确性高，因为我们模型的目的是 当然，要对未知数据做出正确的预测。 那么，如何提高样本外准确性呢？ 一种方法是使用另一种评估方法，称为训练/测试拆分。 通过这种方法，我们选择了一部分数据集进行训练，例如， 从零到五排 其余的用于测试， 例如，第六至九行。 该模型基于训练集。 然后，将测试特征集传递给模型进行预测。 最后，预测值 将测试集与测试集的实际值进行比较。 第二种评估方法称为训练/测试拆分。 训练/测试拆分涉及拆分数据集 分为训练集和测试集， 它们是互斥的。 之后，您将使用训练集进行训练并使用测试集进行测试。 这将提供对样本外准确性的更准确评估，因为 测试数据集不属于用于训练数据的数据集。 对于现实世界中的问题而言，这更为现实。 这意味着我们知道数据集中每个数据点的结果， 非常适合进行测试。 由于此数据尚未用于训练模型， 该模型不知道这些数据点的结果。 因此，从本质上讲，这是真正的样本外测试。 但是，请确保随后使用测试集训练模型， 因为您不想丢失可能有价值的数据。 火车/测试拆分的问题在于 取决于训练和测试数据的数据集。 这种变化导致训练/测试分裂 比在相同数据集上进行训练和测试更好的样本外预测， 但是由于这种依赖性，它仍然存在一些问题。 另一个评估模型称为K折交叉验证， 解决了大多数这些问题。 您如何解决因依赖性导致的高变异？ 好吧，你平均。 让我解释一下K折的基本概念 交叉验证，看看我们如何解决这个问题。 整个数据集由图像左上角的点表示。 如果我们有K等于四倍， 然后我们按如下所示拆分此数据集。 例如在第一折中 我们将数据集的前25％用于测试，其余用于训练。 使用训练集构建模型，并使用测试集评估模型。 然后，在下一轮或第二轮中 数据集的后25％是 用于测试，其余用于训练模型。 再次，计算模型的准确性。 我们继续努力。 最后，将所有四个评估的结果平均。 也就是说，然后将每一折的准确性平均， 请记住，每折都是不同的， 在一个折叠中没有使用训练数据的另一折叠中。 最简单形式的K折交叉验证可进行多次训练/测试拆分， 使用相同的数据集，但每个拆分均不同。 然后，对结果进行平均以产生更一致的样本外精度。 我们想向您展示一个评估模型， 解决了我们先前方法中描述的一些问题。 但是，深入了解K折交叉验证模型 超出了本课程的范围。</p>
<p>我们将介绍模型评估的准确性指标。因此，让我们开始吧。评估指标用于解释模型的性能。 让我们更多地讨论用于回归的模型评估指标。 如上所述，基本上，我们可以比较实际值和预测值， 计算我们的回归模型的准确性。 评估指标，在模型开发中发挥关键作用， 因为它提供了需要改进的领域的洞察力。 我们将审查许多模型评估指标，包括 平均绝对误差，均方误差和均方根误差。 但是在定义这些之前， 我们需要定义错误实际上是什么。 在回归的背景下， 模型的误差是 算法生成的数据点和趋势线。 由于有多个数据点， 错误可以通过多种方式确定。 平均绝对误差是误差绝对值的平均值。 这是最容易理解的指标， 因为这只是平均误差。 均方误差是均方误差的均值。 比平均绝对误差更受欢迎 因为重点更多是针对大错误。 这是由于平方项 与较小的错误相比，较大的错误呈指数增加。 均方根误差是均方误差的平方根。 这是最受欢迎的评估指标之一 因为均方根误差是可以解释的 以与响应向量相同的单位或y单位， 轻松关联其信息。 相对绝对误差，也称为残差平方和， 其中y bar是y的平均值， 取总绝对误差并将其归一化 除以简单预测变量的总绝对误差。 相对平方误差与相对绝对误差非常相似 但是被数据科学界广泛采用， 因为它用于计算R平方。 R平方本身不是错误 但它是模型准确性的常用指标。 它表示数据值有多接近 拟合拟合的回归线。 R平方越高 模型越适合您的数据。 这些指标均可用于量化您的预测。 指标的选择 完全取决于模型的类型 您的数据类型和知识领域。 不幸的是，进一步的审查超出了本课程的范围。 </p>
<p>在这个视频里， 我们将介绍多元线性回归。 如您所知，线性回归模型有两种， 简单回归和多元回归。 简单线性回归是什么时候 一个自变量用于估计因变量。 例如，使用发动机尺寸变量预测CO_2排放量。 实际上，有多个变量可预测CO_2的排放。 如果存在多个自变量， 该过程称为多元线性回归。 例如，使用 发动机尺寸和汽车发动机中的气缸数。 本视频中的重点是多元线性回归。 好是多元线性回归 是简单线性回归模型的扩展。 所以，我建议你经历 如果您尚未观看过简单的线性回归视频，请先观看。 在我们深入研究样本数据集并了解多元线性回归如何工作之前， 我想告诉你它可以解决什么样的问题， 何时应该使用它，特别是 我们可以用它回答什么样的问题。 基本上，多元线性回归有两个应用。 首先，当我们想确定 自变量对因变量的影响。 例如，修订时间，测试焦虑程度， 演讲人数和性别对学生的考试成绩有影响吗？ 其次，它可以用来预测变更的影响，即 了解因变量如何变化 当我们改变自变量时。 例如，如果我们正在查看一个人的健康数据， 多元线性回归可以告诉您多少 该人的血压上升或下降 每个单位的增加或减少 保持其他因素不变的患者体重指数。 与简单的线性回归一样， 多元线性回归是一种预测连续变量的方法。 它使用多个称为独立变量或预测变量的变量 最能预测目标的价值 变量，也称为因变量。 在多元线性回归中 目标值Y 是自变量X的线性组合。 例如，您可以预测汽车可能产生的CO_2 由于诸如汽车的发动机尺寸之类的独立变量而承认， 气缸数和油耗。 多元线性回归非常有用，因为您可以检查 哪些变量是结果变量的重要预测因子。 此外，您还可以了解每个功能如何影响结果变量。 同样，就像简单的线性回归一样， 如果您设法建立这样的回归模型， 你可以用它来预测排放量 未知案例，例如记录9。 通常，模型的形式为y等于theta零， 再加上theta一x_1， 再加上theta两个x_2，依此类推， 直到theta n x_n。 在数学上，我们也可以将其显示为矢量形式。 这意味着它可以显示为两个向量的点积； 参数向量和特征集向量。 通常，我们可以将多维空间显示为theta转置x的方程， 其中theta是多维空间中未知参数的n×一个矢量， x是特征集的向量， 因为theta是系数的向量，并且是 应该乘以x。按照惯例，它显示为转置theta。 Theta也称为回归方程的参数或权重向量。 这两个术语可以互换使用， x是代表汽车的特征集。 例如，x_1表示发动机尺寸，x_2表示气缸，依此类推。 功能集的第一个元素将设置为一个， 因为它将theta零变成截距或偏差 向量乘以参数向量时的参数。 请注意theta转置x in 一维空间是直线的方程式， 这就是我们在简单线性回归中使用的方法。 在更高维度上，当我们有多个输入时 或x线称为平面或超平面， 这就是我们用于多元线性回归的方法。 因此，整个想法是为我们的数据找到最合适的超平面。 为此，与线性回归一样， 我们应该估计theta向量的值 最好预测每一行中目标字段的值。 为了实现这个目标， 我们必须最小化预测误差。 现在的问题是 我们如何找到优化的参数？ 要找到我们模型的优化参数， 我们首先应该了解优化参数是什么， 然后我们将找到一种优化参数的方法。 简而言之，优化参数是导致模型误差最小的参数。 假设我们已经找到模型的参数向量， 这意味着我们已经知道θ矢量的值。 现在我们可以使用模型的第一行的模型和特征集 我们的数据集可以预测第一辆车的二氧化碳排放量，对吗？ 如果将要素集值插入模型方程式， 我们发现你的帽子。 举例来说， 它返回140作为该特定行的预测值， 实际值是多少？ Y等于196。 预测值与实际值196有什么不同？ 好吧，我们可以很简单地将其计算为196减去140， 当然等于56。 在我们的案例中，这仅是针对一排或一辆汽车的模型错误。 与线性回归一样 我们可以说这里的误差是与 数据指向拟合的回归模型。 所有残留误差的平均值表明模型代表数据集的程度， 这称为均方误差或MSE。 在数学上，MSE可以用方程式表示。 尽管这不是暴露多元线性回归模型误差的唯一方法， 这是最受欢迎的方法之一。 我们数据集的最佳模型是所有预测值的误差最小的模型。 因此，多元线性回归的目标是最小化MSE方程。 为了使其最小化，我们应该找到最佳的参数theta，但是如何？ 好的，我们如何找到多元线性回归的参数或系数？ 有许多方法可以估算这些系数的值。 但是，最常见的方法是 普通最小二乘法和优化方法。 普通最小二乘法试图估计 通过最小化均方误差来确定系数。 这种方法使用数据作为矩阵并使用 线性代数运算以估计theta的最佳值。 这种技术的问题是计算的时间复杂度 矩阵运算，因为它可能需要很长时间才能完成。 当数据集中的行数少于10,000时， 您可以将此技术视为一种选择。 但是，对于更大的价值， 您应该尝试其他更快的方法。 第二种选择是使用优化算法来找到最佳参数。 也就是说，您可以使用优化值的过程 通过迭代最小化模型对训练数据的误差来确定系数。 例如，您可以使用梯度下降 以每个系数的随机值开始优化， 然后计算错误并尝试将其最小化 通过y在多次迭代中更改系数。 如果您有大量数据集，则梯度下降法是一种适当的方法。 但是请理解，还有其他估算方法 您可以自己探索的多元线性回归的参数。 找到适合您模型的最佳参数后， 您可以进入预测阶段。 找到线性方程的参数后， 进行预测就像解决一组特定输入的方程式一样简单。 假设我们正在预测CO_2排放或Y 从其他汽车的变量中获得了第9个记录。 我们的线性回归模型表示为 这个问题是y等于theta转置x。 找到参数后， 我们可以将它们插入线性模型的方程式中。 例如，让我们使用theta零等于125， θ等于6.2， θ2等于14，依此类推。 如果我们将其映射到我们的数据集， 我们可以将线性模型重写为CO_2排放等于 125加6.2乘以发动机尺寸， 加14乘以圆柱，以此类推。 如您所见，多元线性回归 估计预测变量的相对重要性。 例如，它表明气缸具有更高的冲击力 与发动机尺寸相比的二氧化碳排放量。 现在，让我们插入数据集的第九行并计算 引擎尺寸为2.4的汽车的CO_2排放量。 因此，CO_2排放等于125加6.2乘以2.4， 再加上14乘以4，依此类推。 我们可以预测，这辆特定汽车的CO_2排放为214.1。 现在，让我解决一些您可能会担心的问题 关于多元线性回归已经有。 如您所见，您可以使用 多个自变量以预测多元线性回归中的目标值。 与使用相比，有时会产生更好的模型 一个简单的线性回归 只有一个自变量来预测因变量。 现在的问题是， 我们应该使用许多自变量进行预测吗？ 我们应该使用数据集中的所有字段吗？ 是否将自变量添加到 多元线性回归模型总能提高模型的准确性？ 基本上，添加太多的自变量而没有 任何理论上的证明都可能导致过拟合模型。 过拟合模型是一个实际问题，因为它也是 您的数据集比较复杂，不够通用，无法用于预测。 因此，建议避免使用许多变量进行预测。 有多种方法可以避免在回归中过度拟合模型， 但是，这超出了本视频的范围。 下一个问题是 自变量应该是连续的吗？ 基本上，可以合并类别自变量 通过将它们转换为数值变量来回归模型。 例如，给定二进制变量（例如汽车类型）， 手动代码为零，自动车代码为零。 最后一点 请记住，多元线性回归是线性回归的一种特殊类型。 因此，两者之间必须存在线性关系 因变量和您的每个自变量。 有很多方法可以检查线性关系。 例如，您可以使用散点图，然后目视检查线性。 如果散点图中显示的关系不是线性的， 那么您需要使用非线性回归。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/coursera/" rel="tag"># coursera</a>
          
            <a href="/tags/IBM/" rel="tag"># IBM</a>
          
            <a href="/tags/IBM-AI-Engineering-Professional-Certificate/" rel="tag"># IBM AI Engineering Professional Certificate</a>
          
            <a href="/tags/Machine-Learning-with-Python/" rel="tag"># Machine Learning with Python</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/07/19/coursera-39/" rel="next" title="University of Washington Machine Learning Foundations A Case Study Approach">
                <i class="fa fa-chevron-left"></i> University of Washington Machine Learning Foundations A Case Study Approach
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/07/19/coursera-36/" rel="prev" title="deep learning ai AI for Medical Diagnosis">
                deep learning ai AI for Medical Diagnosis <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/Wechat.jpg"
                alt="augest-chen" />
            
              <p class="site-author-name" itemprop="name">augest-chen</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">126</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">169</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">125</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">augest-chen</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
